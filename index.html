<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="./img/favicon.ico">
    <title>Plant Analysis Tool</title>
    <link href="./css/chunk-24d50ea3.3a6f74be.css" rel="prefetch">
    <link href="./css/chunk-8f594212.074ed35f.css" rel="prefetch">
    <link href="./css/chunk-bedce3e8.fee28c0f.css" rel="prefetch">
    <link href="./js/chunk-24d50ea3.ee33e472.js" rel="prefetch">
    <link href="./js/chunk-8f594212.f7c48f26.js" rel="prefetch">
    <link href="./js/chunk-bedce3e8.4af393f2.js" rel="prefetch">
    <link href="./css/app.e8d87328.css" rel="preload" as="style">
    <link href="./js/app.7177699d.js" rel="preload" as="script">
    <link href="./js/chunk-vendors.59287c6b.js" rel="preload" as="script">
    <link href="./css/app.e8d87328.css" rel="stylesheet">
</head>

<body><noscript><strong>We're sorry but The Plant Analysis Tool doesn't work properly without JavaScript enabled. Please
            enable it to continue.</strong></noscript>
    <div id="app"></div>
    <script>
        // Debug script to check what's happening
        console.log('Index.html loaded');
        console.log('Current URL:', window.location.href);
        console.log('Base path:', window.location.pathname);

        // GitHub Pages SPA redirect handler
        (function (l) {
            if (l.search[1] === '/') {
                var decoded = l.search.slice(1).split('&').map(function (s) {
                    return s.replace(/~and~/g, '&')
                }).join('?');
                window.history.replaceState(null, null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
            }
        }(window.location))
    </script>
    <script>
        // Fix webpack public path for GitHub Pages
        window.__webpack_public_path__ = './';

        // Override webpack's public path more aggressively
        const originalDefine = window.define;
        if (originalDefine) {
            window.define = function (name, deps, factory) {
                if (typeof name === 'function') {
                    factory = name;
                    name = null;
                }
                if (Array.isArray(name)) {
                    factory = deps;
                    deps = name;
                    name = null;
                }
                if (typeof deps === 'function') {
                    factory = deps;
                    deps = [];
                }
                if (factory && typeof factory === 'function') {
                    const originalFactory = factory;
                    factory = function () {
                        const result = originalFactory.apply(this, arguments);
                        // Fix any webpack public path issues
                        if (result && result.p !== undefined) {
                            result.p = './';
                        }
                        return result;
                    };
                }
                return originalDefine.call(this, name, deps, factory);
            };
        }

        // Also try to fix any existing webpack modules
        setTimeout(function () {
            if (window.__webpack_require__) {
                const originalWebpackRequire = window.__webpack_require__;
                window.__webpack_require__ = function (moduleId) {
                    const result = originalWebpackRequire(moduleId);
                    if (result && typeof result === 'object' && result.p !== undefined) {
                        result.p = './';
                    }
                    return result;
                };
            }
        }, 100);
    </script>
    <script src="./js/chunk-vendors.59287c6b.js" onerror="console.error('Failed to load chunk-vendors.js')"></script>
    <script src="./js/app.7177699d.js" onerror="console.error('Failed to load app.js')"></script>
    <script>
        // Check if Vue app loaded
        setTimeout(function () {
            const app = document.querySelector('#app');
            console.log('App element:', app);
            console.log('App innerHTML:', app.innerHTML);
            console.log('App children:', app.children.length);

            if (!app.innerHTML.trim()) {
                console.error('Vue app did not mount - check console for errors');
                app.innerHTML = '<p style="color: red;">Vue app failed to load. Check browser console for errors.</p>';
            } else {
                console.log('Vue app content:', app.innerHTML);

                // Check for any Vue components
                const vueComponents = document.querySelectorAll('[data-v-]');
                console.log('Vue components found:', vueComponents.length);

                // Check for any router-view
                const routerView = document.querySelector('router-view, [data-v-router-view]');
                console.log('Router view found:', routerView);

                // Check for image loading issues
                const images = document.querySelectorAll('img');
                console.log('Images found:', images.length);
                images.forEach((img, index) => {
                    console.log(`Image ${index}:`, img.src, img.complete ? 'loaded' : 'loading...');
                    img.onerror = function () {
                        console.error('Image failed to load:', img.src);
                        // Try to fix the path
                        if (img.src && !img.src.startsWith('http') && !img.src.startsWith('./')) {
                            const fixedSrc = './' + img.src;
                            console.log('Trying fixed path:', fixedSrc);
                            img.src = fixedSrc;
                        }
                    };
                });

                // Check CSS loading
                const links = document.querySelectorAll('link[rel="stylesheet"]');
                console.log('CSS links found:', links.length);
                links.forEach((link, index) => {
                    console.log(`CSS ${index}:`, link.href, link.sheet ? 'loaded' : 'loading...');
                });
            }
        }, 5000);
    </script>
</body>

</html>